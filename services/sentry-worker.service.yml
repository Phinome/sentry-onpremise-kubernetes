##---------------------------------------------------------------
##                           WORKLOADS
##---------------------------------------------------------------
#apiVersion: apps/v1
#kind: Deployment
#metadata:
#  namespace: sentry
#  name: tool-sentry-worker
#  labels:
#    instance: tool-sentry-worker
#spec:
#  selector:
#    matchLabels:
#      instance: tool-sentry-worker
#
#  #Initial replicas
#  replicas: 1
#
#  #Replacement strategy
#  strategy:
#    type: Recreate
#
#  #Template
#  template:
#    metadata:
#      labels:
#        instance: tool-sentry-worker
#    spec:
#      containers:
#        - name: tool-sentry-worker
#          image: sentry:9
#          imagePullPolicy: IfNotPresent
#
#          resources:
#            requests:
#              memory: "350Mi"
#
#          envFrom:
#            - configMapRef:
#                name: tool-sentry
#
#          args: ["run", "worker"]
#---
#
#apiVersion: apps/v1
#kind: Deployment
#metadata:
#  namespace: sentry
#  name: tool-sentry-cron
#  labels:
#    instance: tool-sentry-cron
#spec:
#  selector:
#    matchLabels:
#      instance: tool-sentry-cron
#
#  #Initial replicas
#  replicas: 1
#
#  #Replacement strategy
#  strategy:
#    type: Recreate
#
#  #Template
#  template:
#    metadata:
#      labels:
#        instance: tool-sentry-cron
#    spec:
#      containers:
#        - name: tool-sentry-cron
#          image: sentry:9
#          imagePullPolicy: IfNotPresent
#
#          resources:
#            requests:
#              memory: "150Mi"
#
#          envFrom:
#            - configMapRef:
#                name: tool-sentry
#
#          args: ["run", "cron"]
